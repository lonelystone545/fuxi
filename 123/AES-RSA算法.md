[TOC]

## AES算法

AES是典型的对称加密算法，即加密和解密的密钥是同一个。因此，这个密钥是不能公开的。一般来说，会用AES算法对网络中传输的数据进行加解密，性能比较好。

## RSA算法

RSA是一种非对称加密算法，即加密和解密的密钥不是同一个，分别为公钥和私钥。

公钥是可以公开地，能够被多方获取；私钥只能由自己拥有；

公钥和私钥是一一对应地；

公钥和私钥都可以用来加密数据或者解密数据；

公钥加密的数据，只能用对应的私钥可以解密；私钥加密的数据，只能用对应的公钥可以解密；

## 安全的数据传输案例

### case1

1. 接收方会生成一对公钥和私钥；

2. 接收方将公钥发送给发送方；（线下给）

3. 发送方用接收方给的公钥对数据进行加密，传输给接收方；

4. 接收方收到数据后，使用自己的私钥进行解密；

   (私钥只能接收方自己拥有，不能暴露出去)

![img](https://upload-images.jianshu.io/upload_images/1458632-04d689d477d7f2c8?imageMogr2/auto-orient/strip%7CimageView2/2/w/692/format/webp)

### case2

网络传输中仅仅对数据进行加密还是不够的，为了防止第三方伪造数据进行请求，还需要对数据的源头进行验证，即通过“数字签名”来验证发送方的身份，保护数据的完整性，不被破坏。

数字签名中，私钥用来加签，公钥用来验签。为什么这样做呢？因为签名，是为了让接收方知道数据是不是由指定的发送方发出来的数据；由于公钥是公开暴露出来的，所以自然不能用公钥加签！

### case3

RSA的加解密的速度远远慢于AES，因此不适合对大数据块进行加解密，反之，AES的性能比较好，适合对大量数据进行加解密。因此，为了兼顾安全和效率，通常会采用RSA和AES相结合的方式进行网络数据的传输。

1. 接收方生成一对公私钥rsa1，并将公钥发给发送方；（RSA）

   发送方生成一对公私钥rsa2，并将公钥发送给接收方；

   rsa1用于对数据进行加解密，rsa2用于加签和验签。

2. 发送方用rsa1公钥对AES的密钥进行加密，并发送给接收方。（RSA）

3. 接收方用rsa1私钥进行解密，得到了对称算法AES的密钥。（RSA）

4. 发送方通过rsa2的私钥进行签名，并对签名和数据正文用AES进行加密，并将数据传输给接收方。（AES）

5. 接收方用AES的密钥对数据正文进行解密，并通过rsa2的公钥进行验签，确保数据非拟造且完整性未被破坏。（AES）

![img](https://upload-images.jianshu.io/upload_images/1458632-8eb75f77a3c29295?imageMogr2/auto-orient/strip%7CimageView2/2/w/689/format/webp)



